"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{881:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var s=a(861),r=a(439),n=a(757),i=a.n(n),o=a(791),c="Movies_searchButton__ieSHM",l="Movies_searchInput__8fq2n",u="Movies_moviesForm__Yo2Oo",m="Movies_searchedMoviesList__ZXXYs",h="Movies_poster__Yc3Qb",p="Movies_movieLink__ERyJ6",v="Movies_movieTitle__lz38M",d=a(87),_=a(243),f=a(184),g=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),a=t[0],n=t[1],g=(0,d.lr)(),x=(0,r.Z)(g,2),b=x[0],k=x[1],N=(0,o.useState)(!0),y=(0,r.Z)(N,2),j=y[0],w=y[1],M=b.get("query"),S=(0,o.useCallback)(function(){var e=(0,s.Z)(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.get("https://api.themoviedb.org/3/search/movie?api_key=0943ad551b04628807de14e8fdbef059&language=en-US&query=".concat(t,"&page=1&include_adult=false"));case 2:a=e.sent,n(a.data.results),k({query:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k,n]);return(0,o.useEffect)((function(){null!==M&&j&&S(M),w(!1)}),[M,S,j]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.movieName.value;S(t),e.target.elements.movieName.value="",w(!1)},className:u,children:[(0,f.jsx)("input",{className:l,name:"movieName"}),(0,f.jsx)("button",{className:c,type:"submit",children:"Search"})]}),M&&!a.length?(0,f.jsx)("p",{children:"Sorry, we don't have any movies matching the search criteria."}):(0,f.jsx)("ul",{className:m,children:a.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsxs)(d.rU,{state:{from:"/movies?query=".concat(M)},className:p,to:"/movies/".concat(e.id),children:[(0,f.jsx)("img",{loading:"lazy",className:h,src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png",alt:"Poster of ".concat(e.title)}),(0,f.jsx)("p",{className:v,children:e.title})]})},e.id)}))})]})}}}]);
//# sourceMappingURL=881.d938970c.chunk.js.map